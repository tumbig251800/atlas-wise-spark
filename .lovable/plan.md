

## ‡πÅ‡∏ú‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Strike Escalation ‚Äî 3 ‡πÄ‡∏ü‡∏™

### ‡πÄ‡∏ü‡∏™ 1: ‡πÅ‡∏Å‡πâ Column Mapping Bug ‡πÉ‡∏ô csvImport.ts
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: keyword `"‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏™‡∏£‡∏¥‡∏°"` ‡πÉ‡∏ô HEADER_MAP ‡∏Ç‡∏≠‡∏á `remedial` ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö header ‡∏Ç‡∏≠‡∏á Key Issue (column 12) ‡∏Å‡πà‡∏≠‡∏ô column Remedial (column 17) ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ `findIndex` ‡∏à‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠

**‡πÑ‡∏ü‡∏•‡πå**: `src/lib/csvImport.ts` ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 120

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô keyword `"‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏™‡∏£‡∏¥‡∏°"` ‡πÄ‡∏õ‡πá‡∏ô `"‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á"` ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏ä‡∏ô‡∏Å‡∏±‡∏ö Key Issue header
- ‡∏Ñ‡∏á `"‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©"` ‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô fallback

```typescript
// before
remedial: ["remedial ids", "remedial", "remedial_ids", "‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏™‡∏£‡∏¥‡∏°", "‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©"],

// after  
remedial: ["remedial ids", "remedial", "remedial_ids", "‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á", "‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©"],
```

---

### ‡πÄ‡∏ü‡∏™ 2: ‡∏õ‡∏£‡∏±‡∏ö StrikeEscalationView UI ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö RPC Logic
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: RPC `update_class_strike` reset ‡∏ó‡∏µ‡πà count=2 (force_pivot) ‡πÅ‡∏ï‡πà UI ‡πÅ‡∏™‡∏î‡∏á escalation ‡∏ñ‡∏∂‡∏á count=3 ‡∏ã‡∏∂‡πà‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ó‡∏≤‡∏á‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏î‡πâ

**‡πÑ‡∏ü‡∏•‡πå**: `src/components/executive/StrikeEscalationView.tsx`

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- `strikeBadgeVariant`: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô threshold ‡∏à‡∏≤‡∏Å 3 ‡πÄ‡∏õ‡πá‡∏ô 2
- `strikeBadgeClass`: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô threshold ‡∏à‡∏≤‡∏Å 3/2/1 ‡πÄ‡∏õ‡πá‡∏ô 2/1
- `statusLabel`: ‡∏•‡∏ö count>=3 Referral ‡∏≠‡∏≠‡∏Å, count>=2 ‚Üí "üî¥ Force Pivot", count>=1 ‚Üí "üü† Plan Fail"
- Badge ‡πÅ‡∏™‡∏î‡∏á `x/2` ‡πÅ‡∏ó‡∏ô `x/3`
- Tab "Referred" ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô "Pivot" filter count>=2

---

### ‡πÄ‡∏ü‡∏™ 3: ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥ + ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡∏°‡πà
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: CSV ‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô**:
- ‡∏•‡∏ö diagnostic_events, remedial_tracking, strike_counter, pivot_events ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö teaching_logs ‡∏ó‡∏µ‡πà‡∏ã‡πâ‡∏≥
- ‡∏•‡∏ö teaching_logs ‡∏ó‡∏µ‡πà‡∏ã‡πâ‡∏≥ (‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏ñ‡∏ß‡πÅ‡∏£‡∏Å‡πÑ‡∏ß‡πâ)
- ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î CSV ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô remedial_ids ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞ strike ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

---

### ‡∏™‡∏£‡∏∏‡∏õ
| ‡πÄ‡∏ü‡∏™ | ‡πÑ‡∏ü‡∏•‡πå | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á |
|-----|------|-----------|
| 1 | csvImport.ts (1 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î) | ‡∏ï‡πà‡∏≥ |
| 2 | StrikeEscalationView.tsx (~15 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î) | ‡∏ï‡πà‡∏≥ |
| 3 | Database cleanup + retest | ‡∏Å‡∏•‡∏≤‡∏á |

